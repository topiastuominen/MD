<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="tapahtumat.css" />
    <title>Events</title>
  </head>
  <body>
    <header>
      <h2>Team Building Day</h2>
    </header>

    <main>
      <form id="eventForm">
        <label for="goal-en">Choose your preferred event:</label>
        <select id="goal-en" name="goal-en" required>
          <option value="" disabled selected>Choose an event</option>
          <option value="Board game tournament">Board game tournament</option>
          <option value="AppleQuiz">
            Apple pub quiz (Yleistietovisa Applesta. Esim. yhtiön/brändin
            historiasta, tuotteista jne.)
          </option>
          <option value="Ring toss">
            Ring toss (yksinkertainen rinkulanheittopeli.)
          </option>
          <option value="Outdoor Activities">
            Outdoor activities (Esim. mölkky ja darts).
          </option>
        </select>

        <br /><br />

        <label for="something-else-input">Something else, what?</label>
        <input
          type="text"
          id="something-else-input"
          name="something-else-input"
        />

        <br />
        <br />

        <div class="form-group">
          <label for="terms">
            I accept the terms and conditions of registration and participation.
            <input
              type="checkbox"
              id="terms"
              name="terms"
              title="Accept terms and conditions"
              required
            />
          </label>
        </div>

        <button type="submit" id="submit-button">Submit</button>
      </form>
    </main>

    <div class="form-group">
      <button type="button" id="previous-button">Previous</button>
    </div>

    <footer>
      <div class="kuvat">
        <img src="images/board-games.png" alt="board-games" height="200" />
        <img src="images/Apple-logo.png" alt="Apple-logo" height="200" />
        <img
          src="images/ring-toss-game.png"
          alt="ring-toss-game"
          height="200"
        />
        <img src="images/Dart.png" alt="Dart.png" height="200" />
      </div>
      <p>&copy; 2025 Mighty Ducks</p>
    </footer>

    <script>
      // Handle form submission
      document
        .getElementById("eventForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          // Validate terms checkbox manually
          if (!document.getElementById("terms").checked) {
            alert("You must accept the terms and conditions.");
            return;
          }

          // Prepare data
          const data = {
            preferredEvent: document.getElementById("goal-en").value,
            otherEvent: document.getElementById("something-else-input").value,
            acceptedTerms: document.getElementById("terms").checked,
          };

          // Example POST request to your backend:
          fetch("http://localhost:3000/submit", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(data),
          })
            .then((response) => {
              if (response.ok) {
                alert("✅ Event preference saved!");
                window.location.href = "index.html"; // Redirect after success
              } else {
                alert("❌ Error saving data.");
              }
            })
            .catch((err) => {
              console.error(err);
              alert("❌ Could not connect to server.");
            });
        });

      // Handle Previous button navigation
      document
        .getElementById("previous-button")
        .addEventListener("click", () => {
          window.history.back();
        });
    </script>
  </body>
</html>
<!-- </html> -->
